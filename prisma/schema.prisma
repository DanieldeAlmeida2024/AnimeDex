// prisma/schema.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Anime {
  id          String    @id @default(cuid())
  title       String
  type        String // "movie" ou "series"
  poster      String?
  background  String?
  animefireUrl String    @unique // <--- Deixe APENAS esta aqui!
  description String?
  genres      String?  // Separados por vírgula
  releaseYear Int?
  lastUpdated DateTime  @default(now()) @updatedAt
  episodesData String? @map("episodes_data") // Para armazenar JSON de episódios
  // REMOVA A SEGUINTE LINHA:
  // @@unique([animefireUrl])
}

// Você pode adicionar outros modelos conforme a necessidade, como Episodios, se for o caso
// model Episode {
//   id           String @id @default(uuid())
//   animeId      String
//   anime        Anime  @relation(fields: [animeId], references: [id])
//   episodeNumber Int
//   title        String?
//   streamUrl    String // URL do stream
//   createdAt    DateTime @default(now())
//   updatedAt    DateTime @updatedAt
// }